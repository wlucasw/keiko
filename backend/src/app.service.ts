import { HttpException, HttpStatus, Injectable } from '@nestjs/common';

const pokemons = [
  { id: 1, name: 'bulbasaur', height: 7, weight: 69 },
  { id: 2, name: 'ivysaur', height: 10, weight: 130 },
  { id: 3, name: 'venusaur', height: 20, weight: 1000 },
  { id: 4, name: 'charmander', height: 6, weight: 85 },
  { id: 5, name: 'charmeleon', height: 11, weight: 190 },
  { id: 6, name: 'charizard', height: 17, weight: 905 },
  { id: 7, name: 'squirtle', height: 5, weight: 90 },
  { id: 8, name: 'wartortle', height: 10, weight: 225 },
  { id: 9, name: 'blastoise', height: 16, weight: 855 },
  { id: 10, name: 'caterpie', height: 3, weight: 29 },
  { id: 11, name: 'metapod', height: 7, weight: 99 },
  { id: 12, name: 'butterfree', height: 11, weight: 320 },
  { id: 13, name: 'weedle', height: 3, weight: 32 },
  { id: 14, name: 'kakuna', height: 6, weight: 100 },
  { id: 15, name: 'beedrill', height: 10, weight: 295 },
  { id: 16, name: 'pidgey', height: 3, weight: 18 },
  { id: 17, name: 'pidgeotto', height: 11, weight: 300 },
  { id: 18, name: 'pidgeot', height: 15, weight: 395 },
  { id: 19, name: 'rattata', height: 3, weight: 35 },
  { id: 20, name: 'raticate', height: 7, weight: 185 },
  { id: 21, name: 'spearow', height: 3, weight: 20 },
  { id: 22, name: 'fearow', height: 12, weight: 380 },
  { id: 23, name: 'ekans', height: 20, weight: 69 },
  { id: 24, name: 'arbok', height: 35, weight: 650 },
  { id: 25, name: 'pikachu', height: 4, weight: 60 },
  { id: 26, name: 'raichu', height: 8, weight: 300 },
  { id: 27, name: 'sandshrew', height: 6, weight: 120 },
  { id: 28, name: 'sandslash', height: 10, weight: 295 },
  { id: 29, name: 'nidoran-f', height: 4, weight: 70 },
  { id: 30, name: 'nidorina', height: 8, weight: 200 },
  { id: 31, name: 'nidoqueen', height: 13, weight: 600 },
  { id: 32, name: 'nidoran-m', height: 5, weight: 90 },
  { id: 33, name: 'nidorino', height: 9, weight: 195 },
  { id: 34, name: 'nidoking', height: 14, weight: 620 },
  { id: 35, name: 'clefairy', height: 6, weight: 75 },
  { id: 36, name: 'clefable', height: 13, weight: 400 },
  { id: 37, name: 'vulpix', height: 6, weight: 99 },
  { id: 38, name: 'ninetales', height: 11, weight: 199 },
  { id: 39, name: 'jigglypuff', height: 5, weight: 55 },
  { id: 40, name: 'wigglytuff', height: 10, weight: 120 },
  { id: 41, name: 'zubat', height: 8, weight: 75 },
  { id: 42, name: 'golbat', height: 16, weight: 550 },
  { id: 43, name: 'oddish', height: 5, weight: 54 },
  { id: 44, name: 'gloom', height: 8, weight: 86 },
  { id: 45, name: 'vileplume', height: 12, weight: 186 },
  { id: 46, name: 'paras', height: 3, weight: 54 },
  { id: 47, name: 'parasect', height: 10, weight: 295 },
  { id: 48, name: 'venonat', height: 10, weight: 300 },
  { id: 49, name: 'venomoth', height: 15, weight: 125 },
  { id: 50, name: 'diglett', height: 2, weight: 8 },
  { id: 51, name: 'dugtrio', height: 7, weight: 333 },
  { id: 52, name: 'meowth', height: 4, weight: 42 },
  { id: 53, name: 'persian', height: 10, weight: 320 },
  { id: 54, name: 'psyduck', height: 8, weight: 196 },
  { id: 55, name: 'golduck', height: 17, weight: 766 },
  { id: 56, name: 'mankey', height: 5, weight: 280 },
  { id: 57, name: 'primeape', height: 10, weight: 320 },
  { id: 58, name: 'growlithe', height: 7, weight: 190 },
  { id: 59, name: 'arcanine', height: 19, weight: 1550 },
  { id: 60, name: 'poliwag', height: 6, weight: 124 },
  { id: 61, name: 'poliwhirl', height: 10, weight: 200 },
  { id: 62, name: 'poliwrath', height: 13, weight: 540 },
  { id: 63, name: 'abra', height: 9, weight: 195 },
  { id: 64, name: 'kadabra', height: 13, weight: 565 },
  { id: 65, name: 'alakazam', height: 15, weight: 480 },
  { id: 66, name: 'machop', height: 8, weight: 195 },
  { id: 67, name: 'machoke', height: 15, weight: 705 },
  { id: 68, name: 'machamp', height: 16, weight: 1300 },
  { id: 69, name: 'bellsprout', height: 7, weight: 40 },
  { id: 70, name: 'weepinbell', height: 10, weight: 64 },
  { id: 71, name: 'victreebel', height: 17, weight: 155 },
  { id: 72, name: 'tentacool', height: 9, weight: 455 },
  { id: 73, name: 'tentacruel', height: 16, weight: 550 },
  { id: 74, name: 'geodude', height: 4, weight: 200 },
  { id: 75, name: 'graveler', height: 10, weight: 1050 },
  { id: 76, name: 'golem', height: 14, weight: 3000 },
  { id: 77, name: 'ponyta', height: 10, weight: 300 },
  { id: 78, name: 'rapidash', height: 17, weight: 950 },
  { id: 79, name: 'slowpoke', height: 12, weight: 360 },
  { id: 80, name: 'slowbro', height: 16, weight: 785 },
  { id: 81, name: 'magnemite', height: 3, weight: 60 },
  { id: 82, name: 'magneton', height: 10, weight: 600 },
  { id: 83, name: 'farfetchd', height: 8, weight: 150 },
  { id: 84, name: 'doduo', height: 14, weight: 392 },
  { id: 85, name: 'dodrio', height: 18, weight: 852 },
  { id: 86, name: 'seel', height: 11, weight: 900 },
  { id: 87, name: 'dewgong', height: 17, weight: 1200 },
  { id: 88, name: 'grimer', height: 9, weight: 300 },
  { id: 89, name: 'muk', height: 12, weight: 300 },
  { id: 90, name: 'shellder', height: 3, weight: 40 },
  { id: 91, name: 'cloyster', height: 15, weight: 1325 },
  { id: 92, name: 'gastly', height: 13, weight: 1 },
  { id: 93, name: 'haunter', height: 16, weight: 1 },
  { id: 94, name: 'gengar', height: 15, weight: 405 },
  { id: 95, name: 'onix', height: 88, weight: 2100 },
  { id: 96, name: 'drowzee', height: 10, weight: 324 },
  { id: 97, name: 'hypno', height: 16, weight: 756 },
  { id: 98, name: 'krabby', height: 4, weight: 65 },
  { id: 99, name: 'kingler', height: 13, weight: 600 },
  { id: 100, name: 'voltorb', height: 5, weight: 104 },
  { id: 101, name: 'electrode', height: 12, weight: 666 },
  { id: 102, name: 'exeggcute', height: 4, weight: 25 },
  { id: 103, name: 'exeggutor', height: 20, weight: 1200 },
  { id: 104, name: 'cubone', height: 4, weight: 65 },
  { id: 105, name: 'marowak', height: 10, weight: 450 },
  { id: 106, name: 'hitmonlee', height: 15, weight: 498 },
  { id: 107, name: 'hitmonchan', height: 14, weight: 502 },
  { id: 108, name: 'lickitung', height: 12, weight: 655 },
  { id: 109, name: 'koffing', height: 6, weight: 10 },
  { id: 110, name: 'weezing', height: 12, weight: 95 },
  { id: 111, name: 'rhyhorn', height: 10, weight: 1150 },
  { id: 112, name: 'rhydon', height: 19, weight: 1200 },
  { id: 113, name: 'chansey', height: 11, weight: 346 },
  { id: 114, name: 'tangela', height: 10, weight: 350 },
  { id: 115, name: 'kangaskhan', height: 22, weight: 800 },
  { id: 116, name: 'horsea', height: 4, weight: 80 },
  { id: 117, name: 'seadra', height: 12, weight: 250 },
  { id: 118, name: 'goldeen', height: 6, weight: 150 },
  { id: 119, name: 'seaking', height: 13, weight: 390 },
  { id: 120, name: 'staryu', height: 8, weight: 345 },
  { id: 121, name: 'starmie', height: 11, weight: 800 },
  { id: 122, name: 'mr-mime', height: 13, weight: 545 },
  { id: 123, name: 'scyther', height: 15, weight: 560 },
  { id: 124, name: 'jynx', height: 14, weight: 406 },
  { id: 125, name: 'electabuzz', height: 11, weight: 300 },
  { id: 126, name: 'magmar', height: 13, weight: 445 },
  { id: 127, name: 'pinsir', height: 15, weight: 550 },
  { id: 128, name: 'tauros', height: 14, weight: 884 },
  { id: 129, name: 'magikarp', height: 9, weight: 100 },
  { id: 130, name: 'gyarados', height: 65, weight: 2350 },
  { id: 131, name: 'lapras', height: 25, weight: 2200 },
  { id: 132, name: 'ditto', height: 3, weight: 40 },
  { id: 133, name: 'eevee', height: 3, weight: 65 },
  { id: 134, name: 'vaporeon', height: 10, weight: 290 },
  { id: 135, name: 'jolteon', height: 8, weight: 245 },
  { id: 136, name: 'flareon', height: 9, weight: 250 },
  { id: 137, name: 'porygon', height: 8, weight: 365 },
  { id: 138, name: 'omanyte', height: 4, weight: 75 },
  { id: 139, name: 'omastar', height: 10, weight: 350 },
  { id: 140, name: 'kabuto', height: 5, weight: 115 },
  { id: 141, name: 'kabutops', height: 13, weight: 405 },
  { id: 142, name: 'aerodactyl', height: 18, weight: 590 },
  { id: 143, name: 'snorlax', height: 21, weight: 4600 },
  { id: 144, name: 'articuno', height: 17, weight: 554 },
  { id: 145, name: 'zapdos', height: 16, weight: 526 },
  { id: 146, name: 'moltres', height: 20, weight: 600 },
  { id: 147, name: 'dratini', height: 18, weight: 33 },
  { id: 148, name: 'dragonair', height: 40, weight: 165 },
  { id: 149, name: 'dragonite', height: 22, weight: 2100 },
  { id: 150, name: 'mewtwo', height: 20, weight: 1220 },
  { id: 151, name: 'mew', height: 4, weight: 40 },
];

@Injectable()
export class AppService {
  getHello(): string {
    return 'Hello World!';
  }

  getPokemonLists(page?: number) {
    if (page === undefined) {
      return pokemons;
    }

    if (page * 15 > pokemons.length) {
      throw new HttpException(
        'The requested page does not exist',
        HttpStatus.BAD_REQUEST,
      );
    }

    return pokemons.slice(page * 15, Math.min(pokemons.length, page * 15 + 15));
  }

  getPokemonFromId(idParam: number) {
    return pokemons.find(({ id }) => id == idParam);
  }
}
